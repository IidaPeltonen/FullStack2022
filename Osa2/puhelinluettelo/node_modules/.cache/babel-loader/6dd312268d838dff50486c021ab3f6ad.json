{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Iida\\\\React\\\\FullStack\\\\FullStack2022\\\\Osa2\\\\puhelinluettelo\\\\src\\\\components\\\\UudenLisays.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport personService from \"./services/persons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n\n  const addName = event => {\n    event.preventDefault();\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    };\n    let id;\n    let namesMatch = false;\n    let name;\n    persons.forEach((item, index) => {\n      if (item.name.toLowerCase() === newName.toLowerCase()) {\n        namesMatch = true;\n        id = item.id;\n      }\n    });\n\n    if (namesMatch) {\n      let result = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`);\n\n      if (!result) {\n        setNewName(\"\");\n        setNewNumber(\"\");\n      } else {\n        personService.update(id, nameObject).then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson));\n          setNewName(\"\");\n          console.log(\"update: \", newName);\n        });\n      }\n    } else {\n      personService.create(nameObject).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName(\"\");\n      });\n    }\n  };\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: addNew,\n    children: [\"Nimi: \", /*#__PURE__*/_jsxDEV(\"input\", {\n      value: newName,\n      onChange: handleNameChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), \"Numero: \", /*#__PURE__*/_jsxDEV(\"input\", {\n      value: newNumber,\n      onChange: handleNumberChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Tallenna\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"Dwcz/9I2N2qVxAfH/WLAP65sgH8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Iida/React/FullStack/FullStack2022/Osa2/puhelinluettelo/src/components/UudenLisays.js"],"names":["useState","useEffect","personService","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","addName","event","preventDefault","nameObject","name","number","id","namesMatch","forEach","item","index","toLowerCase","result","window","confirm","update","then","returnedPerson","concat","console","log","create","handleNameChange","target","value","handleNumberChange","addNew"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,aAAP,MAA0B,oBAA1B;;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA;;AAChB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,EAAD,CAA1C;;AAEA,QAAMU,OAAO,GAAIC,KAAD,IAAW;AACzBA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,UAAU,GAAG;AACjBC,MAAAA,IAAI,EAAER,OADW;AAEjBS,MAAAA,MAAM,EAAEP;AAFS,KAAnB;AAIA,QAAIQ,EAAJ;AACA,QAAIC,UAAU,GAAG,KAAjB;AACA,QAAIH,IAAJ;AACAV,IAAAA,OAAO,CAACc,OAAR,CAAgB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC/B,UAAID,IAAI,CAACL,IAAL,CAAUO,WAAV,OAA4Bf,OAAO,CAACe,WAAR,EAAhC,EAAuD;AACrDJ,QAAAA,UAAU,GAAG,IAAb;AACAD,QAAAA,EAAE,GAAGG,IAAI,CAACH,EAAV;AACD;AACF,KALD;;AAOA,QAAIC,UAAJ,EAAgB;AACd,UAAIK,MAAM,GAAGC,MAAM,CAACC,OAAP,CACV,GAAElB,OAAQ,wEADA,CAAb;;AAGA,UAAI,CAACgB,MAAL,EAAa;AACXf,QAAAA,UAAU,CAAC,EAAD,CAAV;AACAE,QAAAA,YAAY,CAAC,EAAD,CAAZ;AACD,OAHD,MAGO;AACLP,QAAAA,aAAa,CACVuB,MADH,CACUT,EADV,EACcH,UADd,EAEGa,IAFH,CAESC,cAAD,IAAoB;AACxBtB,UAAAA,UAAU,CAACD,OAAO,CAACwB,MAAR,CAAeD,cAAf,CAAD,CAAV;AACApB,UAAAA,UAAU,CAAC,EAAD,CAAV;AACAsB,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBxB,OAAxB;AACD,SANH;AAOD;AACF,KAhBD,MAgBO;AACLJ,MAAAA,aAAa,CACV6B,MADH,CACUlB,UADV,EAEGa,IAFH,CAESC,cAAD,IAAoB;AACxBtB,QAAAA,UAAU,CAACD,OAAO,CAACwB,MAAR,CAAeD,cAAf,CAAD,CAAV;AACApB,QAAAA,UAAU,CAAC,EAAD,CAAV;AAED,OANH;AAQD;AACF,GA1CD;;AA4CA,QAAMyB,gBAAgB,GAAIrB,KAAD,IAAW;AAClCJ,IAAAA,UAAU,CAACI,KAAK,CAACsB,MAAN,CAAaC,KAAd,CAAV;AACD,GAFD;;AAIA,QAAMC,kBAAkB,GAAIxB,KAAD,IAAW;AACpCF,IAAAA,YAAY,CAACE,KAAK,CAACsB,MAAN,CAAaC,KAAd,CAAZ;AACD,GAFD;;AAIA,sBACE;AAAM,IAAA,QAAQ,EAAEE,MAAhB;AAAA,sCACQ;AAAO,MAAA,KAAK,EAAE9B,OAAd;AAAuB,MAAA,QAAQ,EAAE0B;AAAjC;AAAA;AAAA;AAAA;AAAA,YADR,eAEE;AAAA;AAAA;AAAA;AAAA,YAFF,2BAGU;AAAO,MAAA,KAAK,EAAExB,SAAd;AAAyB,MAAA,QAAQ,EAAE2B;AAAnC;AAAA;AAAA;AAAA;AAAA,YAHV,eAIE;AAAA;AAAA;AAAA;AAAA,YAJF,eAKE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD,CAlED;;GAAMhC,G;;KAAAA,G;AAoEN,eAAeA,GAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport personService from \"./services/persons\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault();\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n    let id;\r\n    let namesMatch = false;\r\n    let name;\r\n    persons.forEach((item, index) => {\r\n      if (item.name.toLowerCase() === newName.toLowerCase()) {\r\n        namesMatch = true;\r\n        id = item.id;\r\n      }\r\n    });\r\n\r\n    if (namesMatch) {\r\n      let result = window.confirm(\r\n        `${newName} is already added to phonebook, replace the old number with a new one?`\r\n      );\r\n      if (!result) {\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n      } else {\r\n        personService\r\n          .update(id, nameObject)\r\n          .then((returnedPerson) => {\r\n            setPersons(persons.concat(returnedPerson));\r\n            setNewName(\"\");\r\n            console.log(\"update: \", newName);\r\n          })\r\n      }\r\n    } else {\r\n      personService\r\n        .create(nameObject)\r\n        .then((returnedPerson) => {\r\n          setPersons(persons.concat(returnedPerson));\r\n          setNewName(\"\");\r\n\r\n        })\r\n\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={addNew}>\r\n      Nimi: <input value={newName} onChange={handleNameChange} />\r\n      <br />\r\n      Numero: <input value={newNumber} onChange={handleNumberChange} />\r\n      <br />\r\n      <button type='submit'>Tallenna</button>\r\n    </form>\r\n  )\r\n};\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}